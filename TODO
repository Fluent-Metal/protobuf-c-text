Memory allocation:
  * Use ProtobufCAllocator * instead of realloc/malloc/free.

Error propogation:
  * Free allocated memory when errors.

Tests:
  * Add malloc hooks to enable deterministic failues.  Come up with a
    way to unwind failed allocations and report them.  Then test for that.
  * Add a bunch of tasts of broken text format buffers.
  * Add mcheck or valgrind tests to check for leaking memory.

Documentation:
  * All of it.
