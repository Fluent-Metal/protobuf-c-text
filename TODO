Memory allocation:
  * Script this for the tests:
    https://www.gnu.org/software/libc/manual/html_node/Allocation-Debugging.html

Error propogation:
  * Use TextFormatResult to propagate errors in generate.c.
  * Set error in TextFormatResult.  (done?)
  * Rename TextFormatResult to TextFormatError.
