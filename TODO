Memory allocation:
  * Have broken malloc set a sentinal file which it removes when it makes
    malloc fail.  Loop until the sentinal file remains.

Error propogation:
  * Use TextFormatResult to propagate errors in generate.c.
  * Set error in TextFormatResult.
  * Rename TextFormatResult to TextFormatError.

Tests:
  * Add mcheck or valgrind tests to check for leaking memory.

Documentation:
  * Code examples.
  * Use docs/doxygen/man/man3/api.3 as a basis for a man page.
